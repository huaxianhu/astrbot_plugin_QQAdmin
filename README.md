
<div align="center">

![:name](https://count.getloli.com/@astrbot_plugin_QQAdmin?name=astrbot_plugin_QQAdmin&theme=minecraft&padding=6&offset=0&align=top&scale=1&pixelated=1&darkmode=auto)

# astrbot_plugin_qqadmin

_✨ [astrbot](https://github.com/AstrBotDevs/AstrBot) QQ群管插件 ✨_  

[![License](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)
[![Python 3.10+](https://img.shields.io/badge/Python-3.10%2B-blue.svg)](https://www.python.org/)
[![AstrBot](https://img.shields.io/badge/AstrBot-3.4%2B-orange.svg)](https://github.com/Soulter/AstrBot)
[![GitHub](https://img.shields.io/badge/作者-Zhalslar-blue)](https://github.com/Zhalslar)

</div>

## 🤝 介绍

- 本插件利用Onebot协议接口，实现了QQ群的各种管理功能，旨在帮助用户更方便地管理群聊。  
- 功能包括：禁言、全体禁言、踢人、拉黑、改群昵称、改头衔、设管理员、设精华、撤回消息、改群头像、改群名、发群公告等等。
- 同时本插件实现了权限控制：超级管理员 > 群主 > 管理员 > 成员。

## 📦 安装

- 可以直接在astrbot的插件市场搜索astrbot_plugin_qqadmin，点击安装，耐心等待安装完成即可  

## ⌨️ 使用说明

群管功能丰富，指令繁多，可以发送“/群管帮助”命令来查看具体用法。

### 群管插件命令表

发送命令“群管帮助”进行查看

| 功能分类 | 指令格式 | 说明 |
|----------|----------|------|
| NormalHandle 群管理 | 禁言 <秒数> @用户 | 对指定成员禁言 |
|  | 禁我 <秒数> | 对自己禁言 |
|  | 解禁 @用户 | 解除指定成员的禁言 |
|  | 开启全禁 / 关闭全禁 | 控制全群是否可发言 |
|  | 改名 <新昵称> @用户 / 改我 <新昵称> | 修改群名片 |
|  | 头衔 <头衔> @用户 / 申请头衔 <头衔> | 设置群头衔（需群主权限） |
|  | 踢了 @用户 | 将指定成员移出群聊 |
|  | 拉黑 @用户 | 踢出并拉黑指定成员 |
|  | 上管 @用户  | 设置管理员（需群主权限） |
|  | 下管 @用户  | 取消管理员（需群主权限） |
|  | 撤回 (引用消息) / 撤回 @用户 数量 | 撤回消息，默认10条 |
|  | 设置群头像 (引用图片) | 修改群头像 |
|  | 设置群名 <新群名> | 修改群名称 |
|  | 设精 (引用消息) / 移精 (引用消息) | 管理精华消息 |
|  | 查看精华 | 查看精华消息列表 |
| NoticeHandle 公告管理 | 发布群公告 <内容> (可引用图片) | 发布群公告 |
|  | 查看群公告 | 查看群公告 |
| EnhanceHandle 增强功能 | 投票禁言 <秒数> @用户 | 发起禁言投票 |
|  | 赞同禁言 / 反对禁言 | 投票同意或反对禁言 |
|  | 设置禁词 <词1 词2...> | 设置或查看自定义违禁词 |
|  | 内置禁词 开/关 | 开启或关闭内置违禁词检测 |
|  | 刷屏禁言 <秒数> | 设置刷屏触发的禁言时长（0 关闭） |
|  | （自动）违禁词检测 | 检测违禁词并自动撤回并禁言 |
|  | （自动）刷屏检测 | 检测刷屏行为并自动处理 |
| CurfewHandle 宵禁功能 | 开启宵禁 HH:MM HH:MM | 设置宵禁时间段 |
|  | 关闭宵禁 | 关闭宵禁任务 |
| JoinHandle 进群管理 | 进群审核 开/关 | 开启或关闭进群审核功能 |
|  | 进群白词 <关键词...> | 设置自动批准进群的关键词 |
|  | 进群黑词 <关键词...> | 设置自动拒绝进群的关键词 |
|  | 未命中驳回 开/关 | 设置是否拒绝未命中白词的进群申请 |
|  | 进群等级 <等级> | 设置进群等级门槛 |
|  | 进群次数 <次数> | 设置最大进群尝试次数 |
|  | 进群黑名单 +QQ号 / -QQ号 | 添加或移除进群黑名单 |
|  | 进群禁言 <秒数> | 设置新进成员的禁言时长（0 表示不启用） |
|  | 进群欢迎 | 开启/关闭进群欢迎消息 |
|  | 退群通知 开/关 | 开启或关闭退群通知 |
|  | 退群拉黑 开/关 | 开启或关闭退群后自动拉黑（拉黑后下次进群自动拒绝） |
|  | 批准 / 驳回 <理由> | 审批进群申请 |
|  | （自动）监听进群/退群事件 | 记录群员变动 |
| MemberHandle 群成员工具 | 群友信息 | 查看群成员活跃情况 |
|  | 清理群友 <未发言天数> <群等级> | 移除不活跃或低等级成员 |
| FileHandle 群文件管理 | 上传群文件 <文件夹名/文件名> | 引用文件并上传 |
|  | 删除群文件 <文件夹名或序号> <文件名或序号> | 删除群文件或文件夹 |
|  | 查看群文件 <文件夹名或序号> <文件名或序号> | 查看文件夹或文件详情 |
| LLMHandle LLM功能 | 取名 @用户 <抽取消息轮数> | 根据聊天记录取个群昵称 |
| 配置管理 | 群管配置 | 修改/查看本群群管配置（直接跟配置文本） |
|  | 群管重置 <群号/all> | 重置本群或全部群的群管配置 |

## 🤝 配置

进入插件配置面板进行配置



## 📌 注意事项

- 本插件目前仅测试了napcat协议端，其他协议端可能会存在一些不兼容问题（以具体情况为准）
- 想第一时间得到反馈的可以来作者的插件反馈群（QQ群）：460973561（不点star不给进）
- 群管插件目前功能已基本稳定，建议非必要不更新

## 👥 贡献指南

- 🌟 Star 这个项目！（点右上角的星星，感谢支持！）
- 🐛 提交 Issue 报告问题
- 💡 提出新功能建议
- 🔧 提交 Pull Request 改进代码
